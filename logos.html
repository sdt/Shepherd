<html>
  <head>
    <link rel="stylesheet" href="http://blueprintcss.org/blueprint/screen.css" type="text/css" media="screen, projection">
    <link rel="stylesheet" href="http://blueprintcss.org/blueprint/print.css" type="text/css" media="print">
    <!--[if lt IE 8]>
      <link rel="stylesheet" href="http://blueprintcss.org/blueprint/ie.css" type="text/css" media="screen, projection">
    <![endif]-->
    <title> Shepherd Icon Browser </title>

    <script type="text/javascript" src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript">

var prevtarget;

$(document).ready(function() {
  $('#selector').bind('change', function(ev) {
    if (prevtarget != null) {
      prevtarget.hide();
    }
    prevtarget = $('#' + ev.target.value);
    prevtarget.show();
  });
  get_icon_list();
});

function get_icon_list() {
  $.get('http://localhost:5000/logo_list.txt', parse_icon_list);
}

function parse_icon_list(text) {
  var lines = text.split('\n');
  for (var i = 0; i < lines.length; i++) {
    var line = lines[i];
    var fields = line.split(/\s\s+|\s*\t\s*/);
    switch (fields[0]) {
    case 'THEME':
      $('#images').append('<div id="' + fields[1] + '"></div>');
      $('#' + fields[1]).hide();
      $('#selector').append('<option value="' + fields[1] + '">' + fields[2] + '</option>');
      break;
    case 'ICON':
      $('#' + fields[2]).append('<img title="' + fields[1] + '" src="' + fields[3] + '">');
      break;
    }
  }
  $('#selector').trigger('change');
}

    </script>
  </head>
  <body>
    <div class="container">
      <div id="header" class="span-24 last">
        <h1> Shepherd Icon Browser </h1>
      </div>
      <div id="selector-div">
        Select a theme
        <select id="selector">
        </select>
      </div>
      <div id="images">
      </div>
    </div>
  </body>
</html>
